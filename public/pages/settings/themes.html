<!DOCTYPE html>
<html lang="en">
<head>
    <script src="/js/common.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/index.css">
    <link rel="stylesheet" href="/styles/loader.css">
    <link rel="stylesheet" href="/styles/template.css">
    <style>
        html {
            overflow-y: scroll;
            padding: 10px;
        }

        body {
            background: transparent;
            color: white;
        }

        button {
            background: linear-gradient(135deg, #9333ea, #ec4899);
            margin: 10px 0;
            padding: 15px;
            width: 100%;
            border: 2px solid rgba(147, 51, 234, 0.3);
            border-radius: 12px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(147, 51, 234, 0.4);
            border-color: #9333ea;
        }

        .themebutton {
            width: 100%;
            margin: 5px 0;
        }

        textarea {
            width: 100%;
            height: 300px;
            padding: 15px;
            background: rgba(26, 26, 36, 0.8);
            border: 2px solid rgba(147, 51, 234, 0.3);
            border-radius: 12px;
            color: white;
            font-family: 'Courier New', monospace;
            resize: vertical;
            margin: 10px 0;
        }

        textarea:focus {
            outline: none;
            border-color: #ec4899;
            box-shadow: 0 0 20px rgba(147, 51, 234, 0.4);
        }

        h1 {
            font-size: 32px;
            color: white;
            margin-bottom: 10px;
        }

        h2 {
            font-size: 24px;
            color: white;
            margin-top: 30px;
            margin-bottom: 10px;
        }

        p {
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .theme-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>Themes</h1>
    <p>It Dont Work Rn</p>

    <h2>Premade Themes</h2>
    <div class="theme-grid">
        <button onclick="localStorage.removeItem('theme'); localStorage.removeItem('custom-img'); window.top.location.reload();" class="themebutton">Default</button>
        <button onclick="setTheme('blue')" class="themebutton">Blue</button>
        <button onclick="setTheme('night')" class="themebutton">Night</button>
        <button onclick="setTheme('red')" class="themebutton">Red</button>
        <button onclick="setTheme('green')" class="themebutton">Green</button>
    </div>

    <h2>Custom Theme</h2>
    <p>Doesnt Work RN</p>
    <textarea id="themebox"></textarea>
    <button onclick="loadCustomTheme()">Apply Theme</button>

    <h2>Custom Image</h2>
    <p>Change the image that is shown in the top left of the screen.</p>
    <p>Just go on any background image and right click it - there will be an option to copy image address, then paste it in the alert box.</p>
    <button onclick="localStorage.setItem('custom-img',window.prompt('Please paste the url below. [Must have https at the start!]')); window.top.location.reload();">Set Image</button>

    <script>
        function formatCSS(css) { 
            return css
                .replace(/\s*{\s*/g, ' {\n  ') 
                .replace(/;\s*/g, ';\n  ')    
                .replace(/\s*}\s*/g, '\n}');  
        }

        if (localStorage.getItem('theme')) {
            document.getElementById('themebox').value = formatCSS(localStorage.getItem('theme'));
        } else {
            document.getElementById('themebox').value = formatCSS(`:root { --font-family: sans-serif; --font-color: rgb(255, 255, 255); --sidebar-size: 50px; --primary-light: rgb(225, 160, 255); --primary-mid: rgb(180, 100, 230); --primary-dark: rgb(130, 70, 190); --accent-color: rgb(100, 70, 130); --accent-color-dark: rgb(85, 60, 110); --background-dark: rgb(11, 5, 15); --background-light: rgb(27, 13, 41); }`);
        }

        const premadeThemes = {
            "blue": ":root { --font-family: sans-serif; --font-color: rgb(255, 255, 255); --sidebar-size: 50px; --primary-light: rgb(160, 177, 255); --primary-mid: rgb(100, 135, 230); --primary-dark: rgb(70, 82, 190); --accent-color: rgb(71, 70, 130); --accent-color-dark: rgb(55, 54, 100); --background-dark: rgb(5, 5, 14); --background-light: rgb(16, 13, 41); }",
            "night": ":root { --font-family: sans-serif; --font-color: rgb(255, 255, 255); --sidebar-size: 50px; --primary-light: rgb(179, 179, 179); --primary-mid: rgb(129, 129, 129); --primary-dark: rgb(80, 80, 80); --accent-color: rgb(56, 56, 56); --accent-color-dark: rgb(29, 29, 29); --background-dark: rgb(0, 0, 0); --background-light: rgb(19, 19, 19); }",
            "red": ":root { --font-family: sans-serif; --font-color: rgb(255, 255, 255); --sidebar-size: 50px; --primary-light: rgb(255, 160, 160); --primary-mid: rgb(151, 70, 70); --primary-dark: rgb(114, 41, 41); --accent-color: rgb(130, 70, 70); --accent-color-dark: rgb(100, 54, 54); --background-dark: rgb(14, 5, 5); --background-light: rgb(41, 13, 13); }",
            "green": ":root { --font-family: sans-serif; --font-color: rgb(255, 255, 255); --sidebar-size: 50px; --primary-light: rgb(168, 255, 160); --primary-mid: rgb(137, 230, 100); --primary-dark: rgb(98, 190, 70); --accent-color: rgb(82, 130, 70); --accent-color-dark: rgb(70, 110, 60); --background-dark: rgb(5, 15, 6); --background-light: rgb(22, 41, 13); }"
        };

        function loadCustomTheme() {
            let themeElem = document.getElementById('themebox');
            localStorage.setItem('theme', themeElem.value);
            window.top.location.reload();
        }

        function setTheme(theme) {
            localStorage.setItem('theme', premadeThemes[theme]);

            switch(theme) { 
                case "blue":
                case "night":
                case "red":
                case "green":
                    localStorage.setItem('custom-img', theme);
                    break;
            }

            window.top.location.reload();
        }
    </script>
</body>
</html>